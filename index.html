<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Para Mi Amor</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --rojo: #ff0000; --rosa: #ff4d6d; }
        body { margin: 0; background-color: #000; overflow: hidden; font-family: 'Quicksand', sans-serif; color: white; }
        
        #escena { 
            position: relative; width: 100vw; height: 100vh; 
            background: radial-gradient(circle at center, #1a0505 0%, #000 100%); 
        }

        /* --- OSO CON MOVIMIENTO --- */
        #oso { 
            position: absolute; font-size: 70px; left: 10%; top: 50%; 
            transform: translateY(-50%); z-index: 100;
            animation: flotar 3s ease-in-out infinite; /* Movimiento constante */
            transition: transform 0.1s;
        }

        @keyframes flotar {
            0%, 100% { transform: translateY(-50%) translateX(0); }
            50% { transform: translateY(-55%) translateX(5px); }
        }

        /* Efecto de retroceso al disparar */
        .disparo-recoil { transform: translateY(-50%) translateX(-15px) !important; }

        /* --- CORAZONES Y PROYECTILES --- */
        .proyectil {
            position: absolute; color: var(--rojo); font-size: 25px; z-index: 50;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            filter: drop-shadow(0 0 8px var(--rojo));
        }

        .fijo {
            position: absolute; color: var(--rojo); font-size: 20px;
            text-shadow: 0 0 15px var(--rojo); opacity: 0;
            animation: aparecer 0.3s forwards;
        }

        @keyframes aparecer { to { opacity: 1; transform: scale(1.1); } }

        /* --- BOT√ìN Y CARTA --- */
        #interaccion {
            display: none; position: absolute; top: 75%; left: 50%; 
            transform: translateX(-50%); text-align: center; z-index: 150;
        }

        #btn-amor {
            background: linear-gradient(45deg, #ff0000, #ff4d6d);
            color: white; border: none; border-radius: 50px;
            padding: 15px 35px; font-weight: bold; cursor: pointer; 
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.6);
            animation: latido 1.2s infinite;
        }

        .capa-roja {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(135deg, #d00000 0%, #ff0000 100%);
            display: none; flex-direction: column; align-items: center; 
            overflow-y: auto; padding: 50px 20px; box-sizing: border-box; z-index: 2000;
        }

        .cerrar { position: absolute; right: 25px; top: 15px; font-size: 45px; cursor: pointer; }
        .titulo { font-family: 'Dancing Script', cursive; font-size: 3.5rem; margin-bottom: 25px; }
        .marco { width: 100%; max-width: 400px; border-radius: 20px; overflow: hidden; border: 5px solid white; box-shadow: 0 20px 40px rgba(0,0,0,0.4); margin-bottom: 30px; }
        .marco img { width: 100%; display: block; }
        .texto { font-size: 1.3rem; line-height: 1.8; font-style: italic; background: rgba(255,255,255,0.15); padding: 25px; border-radius: 20px; backdrop-filter: blur(5px); text-align: center; }

        @keyframes latido { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
    </style>
</head>
<body>

    <div id="escena">
        <div id="oso">üß∏üèπ</div>
        
        <div id="interaccion">
            <button id="btn-amor" onclick="abrir()">CLICK AQU√ç ‚ù§Ô∏è</button>
            <p style="color: var(--rosa); font-weight: bold; margin-top: 15px;">Te amar√© y cuidar√© siempre</p>
        </div>
    </div>

    <div id="carta" class="capa-roja">
        <div class="cerrar" onclick="cerrar()">√ó</div>
        <div style="max-width: 500px; width: 100%;">
            <h1 class="titulo" style="text-align: center;">Te amo, cari√±o</h1>
            <div class="marco">
                <img src="https://images.unsplash.com/photo-1518199266791-5375a83190b7?q=80&w=500" alt="Amor">
            </div>
            <div class="texto">
                <p>Amor m√≠o, desde que llegaste a mi vida todo cambi√≥ para mejor. Cada momento a tu lado es un regalo que atesoro profundamente.</p>
                <p>Eres mi refugio y mi mayor alegr√≠a. ‚ù§Ô∏è</p>
            </div>
        </div>
    </div>

    <script>
        const escena = document.getElementById('escena');
        const oso = document.getElementById('oso');

        // Generar Estrellas
        for (let i = 0; i < 40; i++) {
            let s = document.createElement('div');
            s.className = 'estrella';
            s.style.width = s.style.height = Math.random() * 3 + 'px';
            s.style.top = Math.random() * 100 + '%';
            s.style.left = Math.random() * 100 + '%';
            escena.appendChild(s);
        }

        // Puntos del Coraz√≥n
        const puntos = [];
        for (let t = 0; t <= Math.PI * 2; t += 0.2) {
            let x = 16 * Math.pow(Math.sin(t), 3);
            let y = -(13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t));
            puntos.push({x: x * 10, y: y * 10});
        }

        let actual = 0;
        function disparar() {
            if (actual < puntos.length) {
                // Efecto de retroceso en el oso
                oso.classList.add('disparo-recoil');
                setTimeout(() => oso.classList.remove('disparo-recoil'), 100);

                const p = document.createElement('div');
                p.className = 'proyectil';
                p.innerHTML = '‚ù§Ô∏è';
                
                const pos = oso.getBoundingClientRect();
                p.style.left = (pos.left + 60) + 'px';
                p.style.top = (pos.top + 30) + 'px';
                escena.appendChild(p);

                setTimeout(() => {
                    p.style.left = `calc(60% + ${puntos[actual].x}px)`;
                    p.style.top = `calc(45% + ${puntos[actual].y}px)`;
                }, 20);

                setTimeout(() => {
                    const f = document.createElement('div');
                    f.className = 'fijo';
                    f.innerHTML = '‚ù§Ô∏è';
                    f.style.left = `calc(60% + ${puntos[actual].x}px)`;
                    f.style.top = `calc(45% + ${puntos[actual].y}px)`;
                    escena.appendChild(f);
                    p.remove();
                    actual++;
                    disparar();
                }, 200); // Velocidad de r√°faga
            } else {
                oso.innerHTML = 'üß∏üåπ';
                document.getElementById('interaccion').style.display = 'block';
            }
        }

        setTimeout(disparar, 1000);

        function abrir() { document.getElementById('carta').style.display = 'flex'; }
        function cerrar() { document.getElementById('carta').style.display = 'none'; }
    </script>
</body>
</html>